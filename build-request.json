{
  "kind": "build_request",
  "title": "Enable AI to generate playable video games from user prompts",
  "projectName": "GameChat AI",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Extend the backend AI response logic in main.mo so that when a user asks the AI to create, build, or make a video game (of any genre or description), the AI generates a structured gamePayload containing a complete, self-contained HTML/CSS/JavaScript game that can be rendered in a sandboxed iframe. The game logic must be fully contained in a single HTML string with inline JS and CSS. The backend should detect game-creation intents broadly (e.g., 'make me a platformer', 'create a shooter', 'build a puzzle game', 'make a racing game', etc.) and respond with both a text message and a populated gamePayload field.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "MAKE THE AI CAPIBLE OF MAKING VIDEO GAMES"
        ]
      },
      "acceptanceCriteria": [
        "When a user sends a message requesting any type of video game, the backend returns a response with a non-null gamePayload containing valid HTML with inline JS and CSS.",
        "The game is fully playable within a sandboxed iframe (no external dependencies required).",
        "Game-creation intent detection covers a wide range of genres and phrasings beyond the six hardcoded games (Snake, Pong, etc.), including platformers, shooters, puzzle games, racing games, RPGs, and more.",
        "The AI's text response acknowledges the game creation and provides brief instructions for how to play.",
        "Non-game-related messages continue to return responses with a null gamePayload."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update the GameRenderer component to handle a broader range of dynamically generated games beyond the six currently hardcoded ones. The renderer should render any valid self-contained HTML game payload received from the backend, not just the six predefined types (Snake, Pong, Memory, Breakout, Flappy Bird, Tetris).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "MAKE THE AI CAPIBLE OF MAKING VIDEO GAMES"
        ]
      },
      "acceptanceCriteria": [
        "GameRenderer successfully renders any self-contained HTML/JS/CSS payload returned by the backend, not just the six hardcoded game types.",
        "The sandboxed iframe correctly loads and runs the injected HTML game code.",
        "Expand/collapse functionality continues to work for all rendered games.",
        "If the gamePayload is malformed or empty, the renderer handles the error gracefully without crashing."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Update the empty-state prompt suggestions in ChatInterface to include a wider variety of game-building prompt examples that reflect the expanded AI capability, such as 'Make me a platformer game', 'Create a space shooter', 'Build a tower defense game', and 'Make a puzzle game'.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "MAKE THE AI CAPIBLE OF MAKING VIDEO GAMES"
        ]
      },
      "acceptanceCriteria": [
        "The empty-state UI shows at least 4 varied game-building prompt suggestions covering different genres.",
        "Clicking any suggestion pre-fills the chat input with that prompt.",
        "Suggestions reflect genres beyond the six hardcoded games."
      ]
    }
  ],
  "constraints": [
    "All Motoko logic must remain in the single main actor file (backend/main.mo).",
    "Generated games must be fully self-contained HTML with inline JS and CSS â€” no external CDN or network requests.",
    "Do not edit any files under frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or frontend/src/components/ui.",
    "GameRenderer must continue to render inside a sandboxed iframe."
  ],
  "nonGoals": [
    "Server-side game execution or game state persistence.",
    "Multiplayer or real-time game features.",
    "User authentication or login for game access.",
    "Saving or sharing generated games between sessions.",
    "3D game generation."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}